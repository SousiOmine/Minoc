name: 'Minoc GitHub Action'
description: 'LLMã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹PCæ“ä½œæ”¯æ´ã‚’GitHub Actionsã§å®Ÿè¡Œ'
author: 'Minoc Team'

inputs:
  openai-api-key:
    description: 'OpenAI APIã‚­ãƒ¼'
    required: true
  model:
    description: 'ä½¿ç”¨ã™ã‚‹LLMãƒ¢ãƒ‡ãƒ«å'
    required: false
    default: 'gpt-4'
  task:
    description: 'å®Ÿè¡Œã™ã‚‹ã‚¿ã‚¹ã‚¯ã®èª¬æ˜'
    required: false
    default: ''

outputs:
  result:
    description: 'ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œçµæœ'
  session-id:
    description: 'å®Ÿè¡Œã‚»ãƒƒã‚·ãƒ§ãƒ³ID'

runs:
  using: 'composite'
  steps:
    - name: Setup Deno
      uses: denoland/setup-deno@v1
      with:
        deno-version: v1.x

    - name: Run Minoc
      id: minoc
      run: |
        echo "ğŸš€ Starting Minoc GitHub Action..."
        deno run -A ${{ github.action_path }}/main.ts
        echo "âœ… Minoc execution completed"
      shell: bash
      env:
        OPENAI_API_KEY: ${{ inputs.openai-api-key }}
        MINOC_MODEL: ${{ inputs.model }}
        MINOC_TASK: ${{ inputs.task }}

branding:
  icon: 'terminal'
  color: 'blue'
